<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <!-- import Vue.js -->
        <script src="//vuejs.org/js/vue.min.js"></script>
        <!-- import stylesheet -->
        <link rel="stylesheet" href="//unpkg.com/iview/dist/styles/iview.css" />
        <!-- import iView -->
        <script src="//unpkg.com/iview/dist/iview.min.js"></script>
        <!-- <script type="module" src="../packages//core/dist/form-create.core.js"></script> -->
        <script src="../packages/iview/dist/form-create.js"></script>
        <script src="../packages/iview/demo/mock.js"></script>
    </head>
    <body>
        <div id="app"></div>
    </body>
    <script>
        window.onload = function () {
            new Vue({
                el: "#app",
                data: {
                    rule: mock(),
                },
                methods: {
                    create: function () {
                        var root = this.$el;
                        //frame,upload组件请在线上环境测试
                        $f = this.$formCreate(this.rule, {
                            //表单插入的父级元素
                            el: root,
                            //显示表单重置按钮
                            resetBtn: true,
                            //表单提交事件
                            onSubmit: function (formData) {
                                alert(JSON.stringify(formData));
                                //按钮进入提交状态
                                $f_2.btn.loading();
                                //重置按钮禁用
                                $f_2.resetBtn.disabled();
                                //按钮进入可点击状态
                                //$f_2.btn.finish();
                                //创建第二个表单
                                $f2 = that.$formCreate(mock, root);
                            },
                        });
                        //动态添加表单元素
                        $f.append($r);
                    },
                    fcMounted($f) {
                        console.log("form-create mounted", $f);
                    },
                },
                mounted: function () {
                    this.create();
                },
            });
        };
    </script>
</html>
